agent:
  tools:
    maven : maven_3.0.1
    jdk : jdk8

configuration:
  pushPrOnSuccess: false

  prApprovers:
    - username1
    - username2
    - username3

  reports:
    - location_of_report_1
    - location_of_report_2

environment:
  variables:
    variable_1: value_1
    variable_2: value_2

  credentials:
    - credentialId : fileCredentialId
      variable : FILE

    - credentialId : dummyGitRepo
      variable : LOGIN

stages:
  - name: satge1
    agent: any
    steps:
      - sh:
          script: "scripts/hello"
      - sh: "scripts/hello"
      - sleep:
          time: 2
      - sleep: 2
      - junit:
          testResults: "target/**.xml"
          allowEmptyResults: true
          testDataPublishers:
            - AutomateTestDataPublisher
            - JunitResultPublisher:
                urlOverride: "urlOverride"

            - JiraTestDataPublisher:
                configs:
                  - SelectableFields:
                      fieldKey: "SelectableFields key"
                      value: "SelectableFields value"

                projectKey: "project key"
                issueType: "issue type"
                autoRaiseIssue: true


    post:
      failure:
        - sh: "scripts/hello"
post:
  always:
    - sh: "scripts/hello"
